<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>My Irc</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">        
    <link href="css/style.css" rel="stylesheet" type="text/css" />
</head>

<body>

    <div class="container">
     <div class="jumbotron">
        <h2>My_irc !</h2>
        <button class="btn btn-info" id="relog">Relog</button>
        <div id="users"></div>

        <div id="login" class="input-group">

            <h3> Hello </h3>
            <p> Bienvenue sur my_irc, veuillez entrer des identifiants pour continuer </p>

            <form action="" id="loginform">
                <input type="text" class="form-control" name="login" id="username" placeholder="Nom d'utilisateur" />
                <input type="text" class="form-control" name="intraname" id="intraname" placeholder="Intra name" />
                <br />
                <input type="submit" value="Envoyer" class="btnlogin btn btn-primary btn-lg btn-block" />
            </form>
        </div>
        <br />
        <div id="room">Room : <span id="rooms">main</span></div>
        <div id="messages">
            <div class="message" id="msgtpl" style="display:none">
                <img src="{{{ user.avatar }}}" class="imgusr" title="{{{ user.username }}}">
                <p class="usrname"><strong>{{ user.username }}</strong></p>
                <p class="msg"> {{{ message }}} </p>
                <span class="date"> {{ h }}:{{ m }} </span>
                <span class="room"> {{ room }} </span>
            </div> 
            <br />
        </div>

        <div id="chat">
            <form action="" id="msgform">
                <div class="input-group">
                    <span class="input-group-addon">Msg</span>
                    <input type="text" name="message" id="message" placeholder="Votre message..." size="50" autofocus />
                    <input type="submit" class="btn btn-primary" id="envoi_message" value="Envoyer" />
                </div>
            </form>
        </div>

    </div>
</div>
<script src="js/jquery.js"></script>
<!-- <script src="http://code.jquery.com/jquery-2.1.1.js"></script> -->
<script src="http://localhost:1337/socket.io/socket.io.js"></script>
<script src="js/mustache.js"></script>
<script src="js/client.js"></script>
<script>
/*
            var socket = io.connect('http://localhost:1337');

            // login
            var pseudo = prompt('Quel est votre pseudo ?');
            socket.emit('nouveau_client', pseudo);
            document.title = pseudo + ' - ' + document.title;

            // print msg
            socket.on('message', function(data) {
                insereMessage(data.pseudo, data.message)
            })

            // Quand un nouveau client se connecte, on affiche l'information
            socket.on('nouveau_client', function(pseudo) {
                $('#zone_chat').prepend('<p><em>' + pseudo + ' a rejoint le Chat !</em></p>');	
            })

            socket.on('disconnect', function(pseudo) {
                $('#zone_chat').prepend('<p><em>' + pseudo + ' a quitt√© le Chat !</em></p>');
            })

            // send form
            $('#formulaire_chat').submit(function () {
                var message = $('#message').val();
                socket.emit('message', message); 
                insereMessage(pseudo, message); 
                $('#message').val('').focus(); 
                return false; 
            });
           
            function insereMessage(pseudo, message) {
                $('#zone_chat').prepend('<p><strong>' + pseudo + '</strong> ' + message + '</p>');
            }

			if(window.jQuery) {
				console.log('jquery on');
			}
			else {
				console.log('jquery off');
			}
            */
            </script>
            <!-- // <script src="client.js"></script> -->
        </body>
        </html>

